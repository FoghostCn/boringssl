{
  "comments": [
    {
      "key": {
        "uuid": "1eda1b56_50abad87",
        "filename": "third_party/sike/asm/fp-armv8.pl",
        "patchSetId": 18
      },
      "lineNbr": 173,
      "author": {
        "id": 9225
      },
      "writtenOn": "2019-04-24T11:18:23Z",
      "side": 1,
      "message": "It seems this code uses x18 a lot without preserving the value stored in the register. According to \"Procedure Call Standard for the ARM 64-bit Architecture\" [1], says that usage of X18 should be avoided in hand-coded assembler. I havn\u0027t seen a problem on linux, but iOS doc [2] says \"The register x18 is reserved for the platform. Conforming software should not make use of it.\" Anyway, x18 shouldn\u0027t be used, so I\u0027ll re-write those functions.\n\n[1] http://infocenter.arm.com/help/topic/com.arm.doc.ihi0055b/IHI0055B_aapcs64.pdf\n[2] https://developer.apple.com/library/archive/documentation/Xcode/Conceptual/iPhoneOSABIReference/Articles/ARM64FunctionCallingConventions.html",
      "revId": "4b728181d2ec3acdb650978f28b90cd2c3bf6115",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fb3cd521_df17ea39",
        "filename": "third_party/sike/asm/fp-armv8.pl",
        "patchSetId": 18
      },
      "lineNbr": 173,
      "author": {
        "id": 5415
      },
      "writtenOn": "2019-04-24T20:37:07Z",
      "side": 1,
      "message": "The iOS ARM64 ABI also requires every function set up a frame pointer in x29, which the ABI tests don\u0027t currently test. I\u0027m not sure exactly what they use it for, but aarch64 has loads of registers, so we should honor those rules. (If nothing else, Windows on ARM64, if we do assembly for it, will need unwind support, and uniformly using a frame pointer will keep it nice and straightforward.)",
      "parentUuid": "1eda1b56_50abad87",
      "revId": "4b728181d2ec3acdb650978f28b90cd2c3bf6115",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d081f28e_795fb98d",
        "filename": "third_party/sike/asm/fp-armv8.pl",
        "patchSetId": 18
      },
      "lineNbr": 173,
      "author": {
        "id": 5415
      },
      "writtenOn": "2019-04-24T20:41:20Z",
      "side": 1,
      "message": "(The frame pointer prolog is the pair of stp and mov/add instructions you can find in the other files. 5.2.3 of AAPCS64 talks about overall frame pointer requirements. iOS picks the tightest of them.)",
      "parentUuid": "fb3cd521_df17ea39",
      "revId": "4b728181d2ec3acdb650978f28b90cd2c3bf6115",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c01585c_ca4d5aab",
        "filename": "third_party/sike/asm/fp-armv8.pl",
        "patchSetId": 18
      },
      "lineNbr": 173,
      "author": {
        "id": 5415
      },
      "writtenOn": "2019-04-25T17:47:20Z",
      "side": 1,
      "message": "After https://boringssl-review.googlesource.com/c/boringssl/+/35764 lands, arm-xlate.pl will catch the r18 issue. Testing the frame pointer will be quite a bit more work.",
      "parentUuid": "d081f28e_795fb98d",
      "revId": "4b728181d2ec3acdb650978f28b90cd2c3bf6115",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "92aced97_a448f667",
        "filename": "third_party/sike/asm/fp-armv8.pl",
        "patchSetId": 18
      },
      "lineNbr": 173,
      "author": {
        "id": 9225
      },
      "writtenOn": "2019-04-30T11:28:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7c01585c_ca4d5aab",
      "revId": "4b728181d2ec3acdb650978f28b90cd2c3bf6115",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa95641b_edb65c37",
        "filename": "third_party/sike/asm/fp-armv8.pl",
        "patchSetId": 18
      },
      "lineNbr": 620,
      "author": {
        "id": 9225
      },
      "writtenOn": "2019-04-24T11:18:23Z",
      "side": 1,
      "message": "use X0 instead",
      "revId": "4b728181d2ec3acdb650978f28b90cd2c3bf6115",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dc4297ad_d49a1155",
        "filename": "third_party/sike/asm/fp-armv8.pl",
        "patchSetId": 18
      },
      "lineNbr": 620,
      "author": {
        "id": 9225
      },
      "writtenOn": "2019-04-25T09:05:20Z",
      "side": 1,
      "message": "Done. Code doesn\u0027t use x18 anymore",
      "parentUuid": "fa95641b_edb65c37",
      "revId": "4b728181d2ec3acdb650978f28b90cd2c3bf6115",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ca7dcac5_48c136f9",
        "filename": "third_party/sike/sike_test.cc",
        "patchSetId": 18
      },
      "lineNbr": 196,
      "author": {
        "id": 9225
      },
      "writtenOn": "2019-04-23T16:52:37Z",
      "side": 1,
      "message": "needs to be enabled for aarch64",
      "revId": "4b728181d2ec3acdb650978f28b90cd2c3bf6115",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8c943d71_919ee421",
        "filename": "third_party/sike/sike_test.cc",
        "patchSetId": 18
      },
      "lineNbr": 196,
      "author": {
        "id": 9225
      },
      "writtenOn": "2019-04-25T09:05:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ca7dcac5_48c136f9",
      "revId": "4b728181d2ec3acdb650978f28b90cd2c3bf6115",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": false
    }
  ]
}