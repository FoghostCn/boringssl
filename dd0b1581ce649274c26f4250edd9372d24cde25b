{
  "comments": [
    {
      "key": {
        "uuid": "bce0aa3d_a2e0feb8",
        "filename": "crypto/rsa/blinding.c",
        "patchSetId": 4
      },
      "lineNbr": 385,
      "author": {
        "id": 5415
      },
      "writtenOn": "2016-03-24T21:01:34Z",
      "side": 1,
      "message": "Isn\u0027t this now always NULL? Also, I know the next CL will undo it all anyway, but if you\u0027re planning on splitting this up, it seems this version now ends up making bn_blinding_create_param create a fresh BN_MONT_CTX when it shouldn\u0027t.",
      "range": {
        "startLine": 385,
        "startChar": 50,
        "endLine": 385,
        "endChar": 58
      },
      "revId": "dd0b1581ce649274c26f4250edd9372d24cde25b",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5cbb2e3b_75e400f7",
        "filename": "crypto/rsa/blinding.c",
        "patchSetId": 4
      },
      "lineNbr": 385,
      "author": {
        "id": 5525
      },
      "writtenOn": "2016-03-24T21:39:37Z",
      "side": 1,
      "message": "Yes, sounds reasonable. I originally wrote  this as a patch on top of the \"next CL\", where this case was already taken care of. I will fix this.",
      "parentUuid": "bce0aa3d_a2e0feb8",
      "range": {
        "startLine": 385,
        "startChar": 50,
        "endLine": 385,
        "endChar": 58
      },
      "revId": "dd0b1581ce649274c26f4250edd9372d24cde25b",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bce0aa3d_6256f631",
        "filename": "crypto/rsa/rsa_impl.c",
        "patchSetId": 4
      },
      "lineNbr": 571,
      "author": {
        "id": 5415
      },
      "writtenOn": "2016-03-24T21:01:34Z",
      "side": 1,
      "message": "The existing logic seems perfectly happy to have the blinding and actual operation create two separate BN_MONT_CTX objects in the non-RSA_FLAG_CACHE_PUBLIC case (which would only occur for custom RSA_METHODs or maybe people messing around with flags).\n\nCould we not save some complexity by not bothering to optimize that?",
      "revId": "dd0b1581ce649274c26f4250edd9372d24cde25b",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5cbb2e3b_15d77407",
        "filename": "crypto/rsa/rsa_impl.c",
        "patchSetId": 4
      },
      "lineNbr": 571,
      "author": {
        "id": 5525
      },
      "writtenOn": "2016-03-24T21:39:37Z",
      "side": 1,
      "message": "I\u0027d rather keep it the way it is now, because later changes (to use Montgomery multiplication in blinding.c) require a Montgomery context anyway.",
      "parentUuid": "bce0aa3d_6256f631",
      "revId": "dd0b1581ce649274c26f4250edd9372d24cde25b",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "31206591_75e1c8e4",
        "filename": "crypto/rsa/rsa_impl.c",
        "patchSetId": 4
      },
      "lineNbr": 571,
      "author": {
        "id": 5415
      },
      "writtenOn": "2016-03-25T05:02:27Z",
      "side": 1,
      "message": "I\u0027m not sure I follow why you want it this way. Peeking ahead, the current version of https://boringssl-review.googlesource.com/#/c/7524/ makes it not use mont_n to begin with and instead uses rsa-\u003emont_n.\n\n(Which is fine since BN_mod_exp_mont_consttime allows for a NULL BN_MONT_CTX. I also rather suspect we can just get rid of RSA_FLAG_CACHE_PUBLIC and make it always on.)",
      "parentUuid": "5cbb2e3b_15d77407",
      "revId": "dd0b1581ce649274c26f4250edd9372d24cde25b",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bce0aa3d_c2db8205",
        "filename": "crypto/rsa/rsa_impl.c",
        "patchSetId": 4
      },
      "lineNbr": 635,
      "author": {
        "id": 5415
      },
      "writtenOn": "2016-03-24T21:01:34Z",
      "side": 1,
      "message": "[Come to think of it, that you even need this check at all suggests BN_MONT_CTX_set_locked should be returning a const BN_MONT_CTX...]",
      "revId": "dd0b1581ce649274c26f4250edd9372d24cde25b",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5cbb2e3b_f508f07b",
        "filename": "crypto/rsa/rsa_impl.c",
        "patchSetId": 4
      },
      "lineNbr": 635,
      "author": {
        "id": 5525
      },
      "writtenOn": "2016-03-24T21:39:37Z",
      "side": 1,
      "message": "Good idea. This should be done in a separate CL because it is actually a little bit more involved than one would expect, due to pre-existing uses of this pattern.",
      "parentUuid": "bce0aa3d_c2db8205",
      "revId": "dd0b1581ce649274c26f4250edd9372d24cde25b",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bce0aa3d_42193299",
        "filename": "crypto/rsa/rsa_impl.c",
        "patchSetId": 4
      },
      "lineNbr": 635,
      "author": {
        "id": 5415
      },
      "writtenOn": "2016-03-24T21:48:02Z",
      "side": 1,
      "message": "Agreed. Yeah, I have a habit of putting things in square brackets for asides, though I\u0027m pretty sure no one ever knows what I mean by that. :-) I should maybe start saying \"Aside:\" explicitly.\n\nFiled https://bugs.chromium.org/p/boringssl/issues/detail?id\u003d10 so it\u0027s somewhere.\n\n(Oh yeah, I was going to mention to you... we have a separate bugtracker now. Still setting things up, so I haven\u0027t gotten to updating all the various ALL_CAPS.md files. Infra folks have promised us an import tool at some point for the existing stuff.)",
      "parentUuid": "5cbb2e3b_f508f07b",
      "revId": "dd0b1581ce649274c26f4250edd9372d24cde25b",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": false
    }
  ]
}