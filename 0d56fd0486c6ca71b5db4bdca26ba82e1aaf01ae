{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "c38426be_b2622a2a",
        "filename": "crypto/keccak/internal.h",
        "patchSetId": 3
      },
      "lineNbr": 57,
      "author": {
        "id": 5005
      },
      "writtenOn": "2023-10-20T16:46:29Z",
      "side": 1,
      "message": "Sorry to mess you around, but since this is creating API it\u0027s worth paying some more attention.\n\nThis function shouldn\u0027t be needed. The object itself should take care of doing this before the first call to squeeze.",
      "revId": "0d56fd0486c6ca71b5db4bdca26ba82e1aaf01ae",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9dc6f178_bc16a18b",
        "filename": "crypto/keccak/keccak.c",
        "patchSetId": 3
      },
      "lineNbr": 227,
      "author": {
        "id": 14196
      },
      "writtenOn": "2023-10-19T19:11:31Z",
      "side": 1,
      "message": "just do this in keccak_init.",
      "revId": "0d56fd0486c6ca71b5db4bdca26ba82e1aaf01ae",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8e3f9700_6ec6a7d3",
        "filename": "crypto/keccak/keccak.c",
        "patchSetId": 3
      },
      "lineNbr": 227,
      "author": {
        "id": 17331
      },
      "writtenOn": "2023-10-20T06:58:16Z",
      "side": 1,
      "message": "It\u0027s needed in finalize, because now the same offset field will be used for the absorb phase (where it represents offsets w.r.t. the input), and then for the squeeze phase (where it represents offsets w.r.t. the output).\n\nOr did you mean to explicitly set the offset to zero in init (which is currently implicit as part of memset)?",
      "parentUuid": "9dc6f178_bc16a18b",
      "revId": "0d56fd0486c6ca71b5db4bdca26ba82e1aaf01ae",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d10d10b4_2d33dd08",
        "filename": "crypto/keccak/keccak.c",
        "patchSetId": 3
      },
      "lineNbr": 227,
      "author": {
        "id": 14196
      },
      "writtenOn": "2023-10-20T12:38:27Z",
      "side": 1,
      "message": "just ensure keccak_init zeros it, and don\u0027t bother with it in here.",
      "parentUuid": "8e3f9700_6ec6a7d3",
      "revId": "0d56fd0486c6ca71b5db4bdca26ba82e1aaf01ae",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1645de75_62360283",
        "filename": "crypto/keccak/keccak.c",
        "patchSetId": 3
      },
      "lineNbr": 227,
      "author": {
        "id": 17331
      },
      "writtenOn": "2023-10-20T12:58:53Z",
      "side": 1,
      "message": "- The offset must be initialized to zero in keccak_init() for the subsequent absorb() call(s) to work properly. Each absorb() call moves the offset (this wasn\u0027t the case before this CL).\n- The offset must be reset to zero again in keccak_finalize() for the subsequent squeeze() call(s) to work properly. This is needed here because the absorb() calls have moved the offset.\n\nNote that the main difference between the previous code and this CL is that the API now allows splitting the absorb() phase into multiple consecutive calls (which is useful for implementing Dilithium), and therefore we need to keep track of the absorbing offset (separately from the squeezing offset).\n\nIn the previous code, there was only a single pass absorption in the initialization function, which processed the whole input from an offset of zero (so there was no need to keep track of an offset during this absorption phase, but only in the squeezing phase that could be split into multiple calls).",
      "parentUuid": "d10d10b4_2d33dd08",
      "revId": "0d56fd0486c6ca71b5db4bdca26ba82e1aaf01ae",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "46e8c920_5cacf308",
        "filename": "crypto/keccak/keccak.c",
        "patchSetId": 3
      },
      "lineNbr": 227,
      "author": {
        "id": 14196
      },
      "writtenOn": "2023-10-20T14:37:57Z",
      "side": 1,
      "message": "Ahh NVM, gerrit tricked me into believing this was in BORINGSSL_keccack_init, not in the finalize routine. Mea Culpa.",
      "parentUuid": "1645de75_62360283",
      "revId": "0d56fd0486c6ca71b5db4bdca26ba82e1aaf01ae",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    }
  ]
}