{
  "comments": [
    {
      "key": {
        "uuid": "293a64ef_ee1e08a1",
        "filename": "crypto/fipsmodule/rand/urandom.c",
        "patchSetId": 4
      },
      "lineNbr": 129,
      "author": {
        "id": 9681
      },
      "writtenOn": "2019-10-07T16:43:35Z",
      "side": 1,
      "message": "Why isn\u0027t this included from random.h? Is it because that is conditional on BORINGSSL_FIPS? Should we make the GRND_RANDOM behavior also specific to that?\n\nAnd, super nit: Should we write this as 0x2? (But I guess line 126 already doesn\u0027t use \"0x\").",
      "range": {
        "startLine": 129,
        "startChar": 20,
        "endLine": 129,
        "endChar": 21
      },
      "revId": "2cdeaef3d8a8a4e66a17e6d35ba90d365b8f88cf",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eb20bc3f_b26c20cc",
        "filename": "crypto/fipsmodule/rand/urandom.c",
        "patchSetId": 4
      },
      "lineNbr": 129,
      "author": {
        "id": 9619
      },
      "writtenOn": "2019-10-07T17:19:55Z",
      "side": 1,
      "message": "Yeah, I\u0027m just following the local style here.  I assumed there were reasons for doing it this way.",
      "parentUuid": "293a64ef_ee1e08a1",
      "range": {
        "startLine": 129,
        "startChar": 20,
        "endLine": 129,
        "endChar": 21
      },
      "revId": "2cdeaef3d8a8a4e66a17e6d35ba90d365b8f88cf",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eee1e33e_ca83cb54",
        "filename": "crypto/fipsmodule/rand/urandom.c",
        "patchSetId": 4
      },
      "lineNbr": 161,
      "author": {
        "id": 5005
      },
      "writtenOn": "2019-10-07T16:30:25Z",
      "side": 1,
      "message": "(nit: usually when adding one to the length it\u0027s because you\u0027ll write an explicit NUL byte. If there\u0027s another reason, it\u0027s worth a comment because it\u0027s non-obvious.)",
      "revId": "2cdeaef3d8a8a4e66a17e6d35ba90d365b8f88cf",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "876035a1_40a7322f",
        "filename": "crypto/fipsmodule/rand/urandom.c",
        "patchSetId": 4
      },
      "lineNbr": 161,
      "author": {
        "id": 9681
      },
      "writtenOn": "2019-10-07T16:43:35Z",
      "side": 1,
      "message": "I believe PROP_VALUE_MAX includes the trailing NUL byte, so if it\u0027s for that reason the +1 shouldn\u0027t be needed.",
      "parentUuid": "eee1e33e_ca83cb54",
      "revId": "2cdeaef3d8a8a4e66a17e6d35ba90d365b8f88cf",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa820cc2_51e74bfa",
        "filename": "crypto/fipsmodule/rand/urandom.c",
        "patchSetId": 4
      },
      "lineNbr": 161,
      "author": {
        "id": 9619
      },
      "writtenOn": "2019-10-07T16:45:59Z",
      "side": 1,
      "message": "Done.  Verified from Bionic source that (a) PROP_VALUE_MAX doesn\u0027t account for terminator and (b) __system_property_get eventually does memcpy(buffer, value, strlen(value) + 1)",
      "parentUuid": "eee1e33e_ca83cb54",
      "revId": "2cdeaef3d8a8a4e66a17e6d35ba90d365b8f88cf",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1c97007c_e8ae3e53",
        "filename": "crypto/fipsmodule/rand/urandom.c",
        "patchSetId": 4
      },
      "lineNbr": 161,
      "author": {
        "id": 9681
      },
      "writtenOn": "2019-10-07T16:50:59Z",
      "side": 1,
      "message": "\u003e Done.  Verified from Bionic source that (a) PROP_VALUE_MAX doesn\u0027t account for terminator\n\nOkay, I\u0027ll let the person know who apparently thinks the opposite because they wrote this:\n\nhttps://android.googlesource.com/platform/build/+/42b2b54c2b3961f7a25098e044e3c8261779e712/tools/post_process_props.py#23",
      "parentUuid": "aa820cc2_51e74bfa",
      "revId": "2cdeaef3d8a8a4e66a17e6d35ba90d365b8f88cf",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e6e494a_e5c4f130",
        "filename": "crypto/fipsmodule/rand/urandom.c",
        "patchSetId": 4
      },
      "lineNbr": 161,
      "author": {
        "id": 9619
      },
      "writtenOn": "2019-10-07T17:20:18Z",
      "side": 1,
      "message": "On closer reading, turns out I was wrong there and non-readonly property values are always less than PROP_VALUE_MAX - 1 in length, so I reverted the +1 change.\n\nStill researching what we need to do to protect against buffer overflow from read-only props.",
      "parentUuid": "1c97007c_e8ae3e53",
      "revId": "2cdeaef3d8a8a4e66a17e6d35ba90d365b8f88cf",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "39032fa9_2575e846",
        "filename": "crypto/fipsmodule/rand/urandom.c",
        "patchSetId": 4
      },
      "lineNbr": 161,
      "author": {
        "id": 9619
      },
      "writtenOn": "2019-10-08T10:52:11Z",
      "side": 1,
      "message": "\u003e\u003e Still researching what we need to do to protect against buffer overflow from read-only props.\n\nTested, and in the case of read-only properties whose value length exceeds PROP_VALUE_MAX, an error message is returned instead of the value.  The length of the message is 50 chars (less than PROP_VALUE_MAX), and obviously it will never match \"true\", so there is no extra logic required here.",
      "parentUuid": "8e6e494a_e5c4f130",
      "revId": "2cdeaef3d8a8a4e66a17e6d35ba90d365b8f88cf",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cd78bd90_c447fd5a",
        "filename": "crypto/fipsmodule/rand/urandom.c",
        "patchSetId": 4
      },
      "lineNbr": 451,
      "author": {
        "id": 5005
      },
      "writtenOn": "2019-10-07T16:30:25Z",
      "side": 1,
      "message": "(nit: stray line added.)",
      "revId": "2cdeaef3d8a8a4e66a17e6d35ba90d365b8f88cf",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "337d6cbf_d492bcb7",
        "filename": "crypto/fipsmodule/rand/urandom.c",
        "patchSetId": 4
      },
      "lineNbr": 451,
      "author": {
        "id": 9619
      },
      "writtenOn": "2019-10-07T16:45:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cd78bd90_c447fd5a",
      "revId": "2cdeaef3d8a8a4e66a17e6d35ba90d365b8f88cf",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": false
    }
  ]
}