{
  "comments": [
    {
      "key": {
        "uuid": "36b9fbaa_adb129e3",
        "filename": "crypto/bn/exponentiation.c",
        "patchSetId": 2
      },
      "lineNbr": 1073,
      "author": {
        "id": 5005
      },
      "writtenOn": "2014-08-05T20:51:48Z",
      "side": 1,
      "message": "Have confirmed that max_bits \u003e\u003d 8. However, it\u0027s not clear that bits \u003e\u003d 4. Here |bits| is an int so bits - 4 is valid none the less.",
      "range": {
        "startLine": 1073,
        "startChar": 22,
        "endLine": 1073,
        "endChar": 34
      },
      "revId": "3e8f11f28f38b0acbc45615434b03f6f2f66aa75",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "36b9fbaa_ad860903",
        "filename": "crypto/bn/exponentiation.c",
        "patchSetId": 2
      },
      "lineNbr": 1084,
      "author": {
        "id": 5005
      },
      "writtenOn": "2014-08-05T20:51:48Z",
      "side": 1,
      "message": "I fear that first_bit might be negative, leading to a crash.\n\nThe loop at L1046 will reduce bits until it\u0027s a multiple of 5, but it could reduce it to zero I think. This section is guarded by bits \u003e\u003d 0, so bits \u003d\u003d 0 will pass that check too.",
      "range": {
        "startLine": 1084,
        "startChar": 49,
        "endLine": 1084,
        "endChar": 59
      },
      "revId": "3e8f11f28f38b0acbc45615434b03f6f2f66aa75",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "56390f00_74fab0da",
        "filename": "crypto/bn/exponentiation.c",
        "patchSetId": 2
      },
      "lineNbr": 1084,
      "author": {
        "id": 5075
      },
      "writtenOn": "2014-08-05T20:57:44Z",
      "side": 1,
      "message": "It actually reduces bits until it\u0027s 4 mod 5 because bits is the last bit inclusive. (The condition in line 1046 is i \u003e\u003d 0.) So I think it\u0027s fine? I believe lowest bits can go as low as -1 and then the while loop\u0027s check will work. But, yeah, I\u0027m not too happy about how finicky this logic is.",
      "parentUuid": "36b9fbaa_ad860903",
      "range": {
        "startLine": 1084,
        "startChar": 49,
        "endLine": 1084,
        "endChar": 59
      },
      "revId": "3e8f11f28f38b0acbc45615434b03f6f2f66aa75",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "36b9fbaa_4d198d12",
        "filename": "crypto/bn/exponentiation.c",
        "patchSetId": 2
      },
      "lineNbr": 1084,
      "author": {
        "id": 5005
      },
      "writtenOn": "2014-08-05T21:18:14Z",
      "side": 1,
      "message": "Can you add a comment after the L1046 loop:\n\n// At this point, |bits| is â‰¡ 4 mod 5 and \u003e\u003d -1.\nassert(bits \u003e\u003d -1 \u0026\u0026 (bits \u003d\u003d -1 || bits % 5 \u003d\u003d 4));",
      "parentUuid": "56390f00_74fab0da",
      "range": {
        "startLine": 1084,
        "startChar": 49,
        "endLine": 1084,
        "endChar": 59
      },
      "revId": "3e8f11f28f38b0acbc45615434b03f6f2f66aa75",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "56390f00_749d90e4",
        "filename": "crypto/bn/exponentiation.c",
        "patchSetId": 2
      },
      "lineNbr": 1084,
      "author": {
        "id": 5075
      },
      "writtenOn": "2014-08-06T00:11:19Z",
      "side": 1,
      "message": "Done. Also added an assertion for max_bits.",
      "parentUuid": "36b9fbaa_4d198d12",
      "range": {
        "startLine": 1084,
        "startChar": 49,
        "endLine": 1084,
        "endChar": 59
      },
      "revId": "3e8f11f28f38b0acbc45615434b03f6f2f66aa75",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212",
      "unresolved": false
    }
  ]
}