{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "3bbbe6f0_48803b97",
        "filename": "crypto/fipsmodule/rand/urandom_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 482,
      "author": {
        "id": 5415
      },
      "writtenOn": "2022-07-29T23:01:43Z",
      "side": 1,
      "message": "Is that quite true? /dev/urandom is never used on FIPS Android, but non-FIPS Android still has that fallback. (This test also runs outside FIPS mode.)\n\nThis test output looks a lot like we were expecting getrandom but got /dev/urandom.\nhttps://logs.chromium.org/logs/boringssl/buildbucket/cr-buildbucket/8807470057942124641/+/u/unit_tests/stdout\n\nAs an alternative to simulating getrandom, we could also say that our CI requires getrandom-capable Androids, and we only test the urandom codepath via this thing. I\u0027d have to adjust our CI a bit though. Expecting to have pre-getrandom machines in CI indefinitely is a bit unreasonable anyway.",
      "revId": "ef79667a9304703958d97314f571c47ae8383c3c",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c11b7f01_b8b580d8",
        "filename": "crypto/fipsmodule/rand/urandom_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 482,
      "author": {
        "id": 5005
      },
      "writtenOn": "2022-07-29T23:20:19Z",
      "side": 1,
      "message": "\u003e Is that quite true? /dev/urandom is never used on FIPS Android, but non-FIPS Android still has that fallback. (This test also runs outside FIPS mode.)\n\nUgh, indeed. I misread that code. But how did this CQ given that https://bugs.chromium.org/p/chromium/issues/detail?id\u003d1347592 was resolved?",
      "parentUuid": "3bbbe6f0_48803b97",
      "revId": "ef79667a9304703958d97314f571c47ae8383c3c",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "43aec694_1c6d7f61",
        "filename": "crypto/fipsmodule/rand/urandom_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 482,
      "author": {
        "id": 5415
      },
      "writtenOn": "2022-07-29T23:43:37Z",
      "side": 1,
      "message": "We don\u0027t actually run Android tests on CQ, only post-commit CI. :-(\n\nMany many CI iterations ago, there was some mysterious reason that infra couldn\u0027t figure out that it didn\u0027t work. I suspect we can make it work now? There even are machines in the pool... I can go configure some and see if it works...",
      "parentUuid": "c11b7f01_b8b580d8",
      "revId": "ef79667a9304703958d97314f571c47ae8383c3c",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e9a641d4_a20df23f",
        "filename": "crypto/fipsmodule/rand/urandom_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 482,
      "author": {
        "id": 5005
      },
      "writtenOn": "2022-07-29T23:50:01Z",
      "side": 1,
      "message": "Ah, that explains it. I ran the CQ to see if the FIPS mode worked and was happy when it passed everything! I\u0027ll try manual testing next week with a real Android phone and a non-FIPS build.\n\nAlso, it\u0027s the weekend: don\u0027t worry about CQ stuff for a while.",
      "parentUuid": "43aec694_1c6d7f61",
      "revId": "ef79667a9304703958d97314f571c47ae8383c3c",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "14a8e18b_a7c8aa7e",
        "filename": "crypto/fipsmodule/rand/urandom_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 482,
      "author": {
        "id": 5415
      },
      "writtenOn": "2022-07-29T23:58:51Z",
      "side": 1,
      "message": "Eh, I\u0027m on west coast time right now anyway. Here, have a config change:\nhttps://boringssl-review.googlesource.com/c/boringssl/+/53725\n\nThat should make it available under \"choose tryjobs\". With luck, it\u0027ll even work!",
      "parentUuid": "e9a641d4_a20df23f",
      "revId": "ef79667a9304703958d97314f571c47ae8383c3c",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b0f6b1f1_28cda9fa",
        "filename": "crypto/fipsmodule/rand/urandom_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 482,
      "author": {
        "id": 5415
      },
      "writtenOn": "2022-08-01T16:39:13Z",
      "side": 1,
      "message": "Looks like the plain Android try jobs work (and confirm those builders are still unhappy), but the FIPS ones don\u0027t because we don\u0027t have newer devices available there. I can see about requesting some.",
      "parentUuid": "14a8e18b_a7c8aa7e",
      "revId": "ef79667a9304703958d97314f571c47ae8383c3c",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "67804e46_1489658d",
        "filename": "crypto/fipsmodule/rand/urandom_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 482,
      "author": {
        "id": 5005
      },
      "writtenOn": "2023-02-22T21:21:27Z",
      "side": 1,
      "message": "Something extra to note here: I was testing on Android with an Android FIPS build, but that\u0027s useless since that\u0027s a shared-library build and this test is disabled on shared-library builds. I fixed that (had to add the reading of strings and ignoring /dev/properties) but it does show that even with \"Choose Tryjobs\" there are no builders for this test on Android, and the prior changes in this stack show that we don\u0027t run FIPS tests on the builders I think? (I.e. the ACVP tests were broken and I had been assuming that the trybots and builders checked that, but we didn\u0027t notice.)",
      "parentUuid": "b0f6b1f1_28cda9fa",
      "revId": "ef79667a9304703958d97314f571c47ae8383c3c",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ab6a934e_89cd8309",
        "filename": "crypto/fipsmodule/rand/urandom_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 482,
      "author": {
        "id": 5415
      },
      "writtenOn": "2023-02-22T21:41:53Z",
      "side": 1,
      "message": "Yeah, the CQ pool doesn\u0027t have any devices that can run our FIPS tests, only the CI pool. I filed https://crbug.com/1418460 to get that fixed.\n\nNever set that up because, originally, the CI didn\u0027t work on Android at all for some mysterious reason I didn\u0027t understand. That mysterious reason is seemingly fixed, except we don\u0027t have the capacity for it.",
      "parentUuid": "67804e46_1489658d",
      "revId": "ef79667a9304703958d97314f571c47ae8383c3c",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    }
  ]
}