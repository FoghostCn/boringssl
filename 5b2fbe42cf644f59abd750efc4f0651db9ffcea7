{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "a620f0f8_50b3615b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 5005
      },
      "writtenOn": "2023-02-22T21:21:27Z",
      "side": 1,
      "message": "(Back to you because I don\u0027t trust myself with C11 atomics, and because of the non-trivial addition to ignore /dev/properties files.)",
      "revId": "5b2fbe42cf644f59abd750efc4f0651db9ffcea7",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8471923b_83ed0cc3",
        "filename": "crypto/fipsmodule/rand/urandom_test.cc",
        "patchSetId": 8
      },
      "lineNbr": 26,
      "author": {
        "id": 5415
      },
      "writtenOn": "2023-02-22T21:41:53Z",
      "side": 1,
      "message": "I forget what made this static-linking-only, but I suspect this still won\u0027t actually run on Android FIPS.",
      "range": {
        "startLine": 26,
        "startChar": 13,
        "endLine": 26,
        "endChar": 37
      },
      "revId": "5b2fbe42cf644f59abd750efc4f0651db9ffcea7",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8c9d4ffe_272d63f4",
        "filename": "crypto/fipsmodule/rand/urandom_test.cc",
        "patchSetId": 8
      },
      "lineNbr": 26,
      "author": {
        "id": 5005
      },
      "writtenOn": "2023-02-22T22:04:52Z",
      "side": 1,
      "message": "Do you mean that it won\u0027t run on the builder? (It does pass on an Android-FIPS-with-delocate build.)",
      "parentUuid": "8471923b_83ed0cc3",
      "range": {
        "startLine": 26,
        "startChar": 13,
        "endLine": 26,
        "endChar": 37
      },
      "revId": "5b2fbe42cf644f59abd750efc4f0651db9ffcea7",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f1cf546d_e534f453",
        "filename": "crypto/fipsmodule/rand/urandom_test.cc",
        "patchSetId": 8
      },
      "lineNbr": 26,
      "author": {
        "id": 5415
      },
      "writtenOn": "2023-02-22T22:06:50Z",
      "side": 1,
      "message": "On the builder, yeah. Currently the only Android FIPS configuration we run is the shared library one. Does the static library one work? I can add it...",
      "parentUuid": "8c9d4ffe_272d63f4",
      "range": {
        "startLine": 26,
        "startChar": 13,
        "endLine": 26,
        "endChar": 37
      },
      "revId": "5b2fbe42cf644f59abd750efc4f0651db9ffcea7",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dcdce728_bc3920f8",
        "filename": "crypto/fipsmodule/rand/urandom_test.cc",
        "patchSetId": 8
      },
      "lineNbr": 26,
      "author": {
        "id": 5005
      },
      "writtenOn": "2023-02-22T22:18:50Z",
      "side": 1,
      "message": "crypto_tests, urandom_tests, and ssl_tests all work at least. I think everything should work?",
      "parentUuid": "f1cf546d_e534f453",
      "range": {
        "startLine": 26,
        "startChar": 13,
        "endLine": 26,
        "endChar": 37
      },
      "revId": "5b2fbe42cf644f59abd750efc4f0651db9ffcea7",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "44393d5e_9c16fa79",
        "filename": "crypto/fipsmodule/rand/urandom_test.cc",
        "patchSetId": 8
      },
      "lineNbr": 26,
      "author": {
        "id": 5415
      },
      "writtenOn": "2023-02-23T15:08:56Z",
      "side": 1,
      "message": "Apparently I can\u0027t \"just\" add it quite yet, but here\u0027s the first step.\nhttps://boringssl-review.googlesource.com/c/boringssl/+/57565",
      "parentUuid": "dcdce728_bc3920f8",
      "range": {
        "startLine": 26,
        "startChar": 13,
        "endLine": 26,
        "endChar": 37
      },
      "revId": "5b2fbe42cf644f59abd750efc4f0651db9ffcea7",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ed1e75f_41977077",
        "filename": "crypto/fipsmodule/rand/urandom_test.cc",
        "patchSetId": 8
      },
      "lineNbr": 295,
      "author": {
        "id": 5415
      },
      "writtenOn": "2023-02-22T21:41:53Z",
      "side": 1,
      "message": "This can also be `NT_PRSTATUS`",
      "range": {
        "startLine": 295,
        "startChar": 55,
        "endLine": 295,
        "endChar": 66
      },
      "revId": "5b2fbe42cf644f59abd750efc4f0651db9ffcea7",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a947e28d_4ed1703f",
        "filename": "crypto/fipsmodule/rand/urandom_test.cc",
        "patchSetId": 8
      },
      "lineNbr": 295,
      "author": {
        "id": 5005
      },
      "writtenOn": "2023-02-22T22:04:52Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5ed1e75f_41977077",
      "range": {
        "startLine": 295,
        "startChar": 55,
        "endLine": 295,
        "endChar": 66
      },
      "revId": "5b2fbe42cf644f59abd750efc4f0651db9ffcea7",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "42424b00_57b1dc61",
        "filename": "crypto/fipsmodule/rand/urandom_test.cc",
        "patchSetId": 8
      },
      "lineNbr": 399,
      "author": {
        "id": 5415
      },
      "writtenOn": "2023-02-22T21:41:53Z",
      "side": 1,
      "message": "Irritatingly UB in C++ (yes, it\u0027s terrible).\n\n```\nuint64_t word \u003d ptrace(PTRACE_PEEKDATA, child_pid,\n                       reinterpret_cast\u003cvoid *\u003e(aligned_addr), 0);\nuint8_t bytes[8];\nCRYPTO_store_u64_le(bytes, word);\nreturn bytes[offset];\n```",
      "revId": "5b2fbe42cf644f59abd750efc4f0651db9ffcea7",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fa452b98_a167088b",
        "filename": "crypto/fipsmodule/rand/urandom_test.cc",
        "patchSetId": 8
      },
      "lineNbr": 399,
      "author": {
        "id": 5005
      },
      "writtenOn": "2023-02-22T22:04:52Z",
      "side": 1,
      "message": "Done. (I thought `union` was the verbose-but-safe way!)",
      "parentUuid": "42424b00_57b1dc61",
      "revId": "5b2fbe42cf644f59abd750efc4f0651db9ffcea7",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "feed9a54_62527b8c",
        "filename": "crypto/fipsmodule/rand/urandom_test.cc",
        "patchSetId": 8
      },
      "lineNbr": 399,
      "author": {
        "id": 5415
      },
      "writtenOn": "2023-02-22T22:12:10Z",
      "side": 1,
      "message": "`union` is, officially, not allowed to type-pun in C++ but allowed to type-pun in C. Unofficially, I think every compiler promises the C semantics in C++ because it\u0027s insane otherwise. However, it\u0027s a bit subtle because the C semantics only work when you read/write directly into a union. I.e. this is okay in C but not C++:\n\n```\nunion {\n  uint16_t a[2];\n  uint32_t b;\n} u;\nu.b \u003d 1;\nreturn a[0];\n```\n\nBut this is not okay:\n\n```\nunion {\n  uint16_t a[2];\n  uint32_t b;\n} u;\nu.b \u003d 1;\ndo_something(\u0026a[0]);\n```\n\nBecause that violates strict aliasing. Confusingly, this is still okay because `uint8_t` is (we assume) a character type:\n\n```\nunion {\n  uint8_t a[4];\n  uint32_t b;\n} u;\nu.b \u003d 1;\ndo_something(\u0026a[0]);\n```\n\nThis is too hard to keep track of, so I\u0027ve just been writing everything with the `memcpy` wrappers, which are unambiguously okay. :-)",
      "parentUuid": "fa452b98_a167088b",
      "revId": "5b2fbe42cf644f59abd750efc4f0651db9ffcea7",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc3cb803_d3a018ad",
        "filename": "crypto/fipsmodule/rand/urandom_test.cc",
        "patchSetId": 8
      },
      "lineNbr": 527,
      "author": {
        "id": 5415
      },
      "writtenOn": "2023-02-22T21:41:53Z",
      "side": 1,
      "message": "Reading `filename` right after you free it here. Guessing that\u0027s why the tests are all broken.\n\nMaybe just toss it into a `std::string` and don\u0027t think about it too hard. :-) (Then you can also replace CBB with just `std::string::push_back`.)",
      "range": {
        "startLine": 527,
        "startChar": 36,
        "endLine": 527,
        "endChar": 44
      },
      "revId": "5b2fbe42cf644f59abd750efc4f0651db9ffcea7",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5cb98f06_58dc849c",
        "filename": "crypto/fipsmodule/rand/urandom_test.cc",
        "patchSetId": 8
      },
      "lineNbr": 527,
      "author": {
        "id": 5005
      },
      "writtenOn": "2023-02-22T22:04:52Z",
      "side": 1,
      "message": "Oops, yes. Thanks.",
      "parentUuid": "dc3cb803_d3a018ad",
      "range": {
        "startLine": 527,
        "startChar": 36,
        "endLine": 527,
        "endChar": 44
      },
      "revId": "5b2fbe42cf644f59abd750efc4f0651db9ffcea7",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "da47400b_35fe1f13",
        "filename": "crypto/rand_extra/passive.c",
        "patchSetId": 8
      },
      "lineNbr": 48,
      "author": {
        "id": 5415
      },
      "writtenOn": "2023-02-22T21:41:53Z",
      "side": 1,
      "message": "Nit: 80 chars",
      "revId": "5b2fbe42cf644f59abd750efc4f0651db9ffcea7",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4e5af3a4_999ec38e",
        "filename": "crypto/rand_extra/passive.c",
        "patchSetId": 8
      },
      "lineNbr": 48,
      "author": {
        "id": 5005
      },
      "writtenOn": "2023-02-22T22:04:52Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "da47400b_35fe1f13",
      "revId": "5b2fbe42cf644f59abd750efc4f0651db9ffcea7",
      "serverId": "66b711a4-aa9b-3dac-9062-916540830212"
    }
  ]
}